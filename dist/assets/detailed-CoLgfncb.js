import{r as s,j as t,H as j}from"./index-DSG7TwHn.js";const h={};let x=0;const w=c=>{const[o,l]=s.useState(null),[u,a]=s.useState(!1),[i,n]=s.useState(null),[d,p]=s.useState(null);return s.useEffect(()=>{let r="https://microsoft.github.io/netperf/wasm_worker.js";const e=new Worker(r);return e.onmessage=y=>{const{type:g,error:k,results:b,id:m}=y.data;switch(g){case"ready":a(!0),n(b);break;case"error":p(k);break;case"execResult":h[m](b);break}},e.postMessage({type:"init",url:c}),l(e),()=>{e.terminate()}},[c]),{exec:(r,e)=>{x+=1,h[x]=e,o&&u?o.postMessage({type:"exec",sql:r,call_id:x}):console.error("Database is not ready or worker is not set up")},isReady:u,db:i,err:d}};function D(c){const{exec:o,isReady:l,error:u}=w("https://raw.githubusercontent.com/microsoft/netperf/sqlite/netperf.sqlite"),[a,i]=s.useState(null);s.useEffect(()=>{console.log("Data: ",a)},[a]);const[n,d]=s.useState(""),p=e=>{if(!l){console.log("Database is not ready");return}o(e,i)},f=e=>{d(e.target.value)},r=()=>{p(n)};return t.jsxs(t.Fragment,{children:[t.jsx(j,{children:t.jsx("title",{children:" Detailed Page "})}),t.jsxs("div",{children:[t.jsx("input",{type:"text",value:n,onChange:f,placeholder:"Enter SQL query"}),t.jsx("br",{}),t.jsx("button",{onClick:r,children:"Execute Query"}),t.jsx("br",{}),"Look in the browser console for the full data output via inspect element.",t.jsx("br",{})]})]})}export{D as default};
