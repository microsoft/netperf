import{r as t,j as e,W as y}from"./index-mMppD5v3.js";const b={};let f=0;const E=l=>{const[r,a]=t.useState(null),[i,n]=t.useState(!1),[u,c]=t.useState(null),[p,d]=t.useState(null);return t.useEffect(()=>{let o="https://microsoft.github.io/netperf/wasm_worker.js";const s=new Worker(o);return s.onmessage=g=>{const{type:k,error:S,results:h,id:m}=g.data;switch(k){case"ready":n(!0),c(h);break;case"error":d(S);break;case"execResult":b[m](h);break}},s.postMessage({type:"init",url:l}),a(s),()=>{s.terminate()}},[l]),{exec:(o,s)=>{f+=1,b[f]=s,r&&i?r.postMessage({type:"exec",sql:o,call_id:f}):console.error("Database is not ready or worker is not set up")},isReady:i,db:u,err:p}},D=E;function T(l){const{exec:r,isReady:a,error:i}=D("https://raw.githubusercontent.com/microsoft/netperf/sqlite/netperf.sqlite"),[n,u]=t.useState(null),[c,p]=t.useState(null);t.useEffect(()=>{a&&(console.log("Database is ready"),r("SELECT * FROM Environment",u),r("SELECT * FROM sqlite_master",p))},[a]),n&&console.log("TEST DATA: ",n),c&&console.log("TEST DATA 2: ",c);const[d,x]=t.useState(""),o=s=>{x(s.target.value)};return e.jsxs(e.Fragment,{children:[e.jsx(y,{children:e.jsx("title",{children:" Detailed Page "})}),e.jsxs("div",{children:[e.jsx("input",{type:"text",value:d,onChange:o,placeholder:"Enter SQL query"}),e.jsx("br",{}),e.jsx("br",{}),"Look in the browser console for the output. (Right click, select option inspect element, navigate to the console tab)",e.jsx("br",{})]})]})}export{T as default};
