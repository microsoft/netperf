import{r as e,H as k}from"./index-AyYwiVEv.js";const b={};let m=0;const h=o=>{const[s,l]=e.useState(null),[a,c]=e.useState(!1),[n,u]=e.useState(null),[i,p]=e.useState(null);return e.useEffect(()=>{let t="https://microsoft.github.io/netperf/wasm_worker.js";const r=new Worker(t);return r.onmessage=y=>{const{type:E,error:R,results:f,id:g}=y.data;switch(E){case"ready":c(!0),u(f);break;case"error":p(R);break;case"execResult":b[g](f);break}},r.postMessage({type:"init",url:o}),l(r),()=>{r.terminate()}},[o]),{exec:(t,r)=>{m+=1,b[m]=r,s&&a?s.postMessage({type:"exec",sql:t,call_id:m}):console.error("Database is not ready or worker is not set up")},isReady:a,db:n,err:i}};function w(o){const{exec:s,isReady:l}=h("https://raw.githubusercontent.com/microsoft/netperf/sqlite/netperf.sqlite"),[a,c]=e.useState(null);e.useEffect(()=>{console.log("Data: ",a)},[a]);const[n,u]=e.useState(""),i=t=>{if(!l){console.log("Database is not ready");return}s(t,c)},p=t=>{u(t.target.value)},d=()=>{i(n)};return React.createElement(React.Fragment,null,React.createElement(k,null,React.createElement("title",null," Detailed Page ")),React.createElement("div",null,React.createElement("input",{type:"text",value:n,onChange:p,placeholder:"Enter SQL query"}),React.createElement("br",null),React.createElement("button",{onClick:d},"Execute Query"),React.createElement("br",null),"Look in the browser console for the full data output via inspect element.",React.createElement("br",null)))}export{w as default};
