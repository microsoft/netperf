import{r as b,H as F,T as G,B as E}from"./index-AyYwiVEv.js";import{u as M,F as f,I as g,S as w,M as s,G as X}from"./app-website-visits-D3kzFn9A.js";import{a as c,G as B}from"./common-GnxlybG9.js";import{C as H}from"./Container-JzlqaCXy.js";let C=!1;document.addEventListener("mousedown",function(){C=!0});document.addEventListener("mouseup",function(){C=!1});function J(){const I="https://raw.githubusercontent.com/microsoft/netperf/deploy/historical_throughput_page.json",{data:n}=M(I);let v=React.createElement("div",null);const[l,q]=b.useState("azure"),[o,L]=b.useState("windows-2022-x64"),[i,T]=b.useState("ubuntu-24.04-x64");let R="ubuntu-20.04-x64";const[t,y]=b.useState("up");if(n){let a=c(`${o}-${l}-iocp-schannel`,n,`scenario-${t}load-tcp`,`tput-${t}-tcp`),p=c(`${i}-${l}-epoll-quictls`,n,`scenario-${t}load-tcp`,`tput-${t}-tcp`),u=c(`${i}-${l}-epoll-quictls`,n,`scenario-${t}load-tcp`,`tput-${t}-tcp`),r=c(`${i}-${l}-epoll-quictls`,n,`scenario-${t}load-quic`,`tput-${t}-quic`);(p.length==0||r.length==0||u.length==0)&&(p=c(`${R}-${l}-epoll-openssl`,n,`scenario-${t}load-tcp`,`tput-${t}-tcp`),u=c(`${R}-${l}-epoll-openssl`,n,`scenario-${t}load-tcp`,`tput-${t}-tcp`),r=c(`${R}-${l}-epoll-openssl`,n,`scenario-${t}load-quic`,`tput-${t}-quic`));const m=c(`${o}-${l}-iocp-schannel`,n,`scenario-${t}load-tcp`,`tput-${t}-tcp`),d=c(`${o}-${l}-iocp-schannel`,n,`scenario-${t}load-quic`,`tput-${t}-quic`),h=c(`${o}-${l}-xdp-schannel`,n,`scenario-${t}load-quic`,`tput-${t}-quic`),$=c(`${o}-${l}-wsk-schannel`,n,`scenario-${t}load-quic`,`tput-${t}-quic`);for(;a.length>p.length;)a.shift(),m.shift(),d.shift(),h.shift(),$.shift();let x=Array.from({length:Math.max(a.length,p.length)},(e,_)=>_);x.reverse();const S=m.map(e=>e[0]),W=d.map(e=>e[0]),D=u.map(e=>e[0]),k=r.map(e=>e[0]),z=h.map(e=>e[0]),V=$.map(e=>e[0]);v=React.createElement(B,{title:`${t==="up"?"Upload":"Download"} Throughput`,subheader:`Tested using ${o}, ${i}, taking the max of 3 runs. `,labels:x,map:e=>(C&&(window.location.href=`https://github.com/microsoft/msquic/commit/${a[e][1]}`),`<div style = "margin: 10px">
            <p> <b> Build date: </b> ${a[e][3]} </p>
            <p> <b> Specific Windows OS version this test ran on: </b> ${a[e][2]} </p>
            <p> <b> Specific Linux OS version this test ran on: </b> ${p[e][2]} </p>
            <p> <b> Commit hash: </b> <a href="google.com"> ${a[e][1]} </a> </p>
            <p> <b> TCP + iocp: </b> ${m[e]&&m[e][0]}, </p>
            <p> <b> QUIC + iocp: </b> ${d[e]&&d[e][0]} </p>
            <p> <b> TCP + epoll: </b> ${u[e]&&u[e][0]} </p>
            <p> <b> QUIC + epoll: </b> ${r[e]&&r[e][0]},
            <b> QUIC + winXDP: </b> ${h[e]&&h[e][0]},
            <b> QUIC + wsk: </b> ${$[e]&&$[e][0]} </p>
          </div>`),series:[{name:"TCP + iocp",type:"line",fill:"solid",data:S},{name:"QUIC + iocp",type:"line",fill:"solid",data:W},{name:"TCP + epoll",type:"line",fill:"solid",data:D},{name:"QUIC + epoll",type:"line",fill:"solid",data:k},{name:"QUIC + winXDP",type:"line",fill:"solid",data:z},{name:"QUIC + wsk",type:"line",fill:"solid",data:V}],options:{markers:{size:5}}})}const U=a=>{q(a.target.value)},O=a=>{L(a.target.value)},P=a=>{T(a.target.value)},Q=a=>{y(a.target.value)};return React.createElement(React.Fragment,null,React.createElement(F,null,React.createElement("title",null," Netperf ")),React.createElement(H,{maxWidth:"xl"},React.createElement(G,{variant:"h3",sx:{mb:5}},"Historical throughput"),React.createElement("div",{style:{display:"flex"}},React.createElement(E,{sx:{}},React.createElement(f,null,React.createElement(g,{id:"demo-simple-select-label"},"Context"),React.createElement(w,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:l,label:"Context",onChange:U,defaultValue:0},React.createElement(s,{value:"azure"},"azure"),o!=="windows-2025-x64"&&React.createElement(s,{value:"lab"},"lab")))),React.createElement(E,{sx:{minWidth:120,marginLeft:"10px"}},React.createElement(f,null,React.createElement(g,{id:"demo-simple-select-label"},"Windows Environment"),React.createElement(w,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:o,label:"Windows Environment",onChange:O,defaultValue:0},React.createElement(s,{value:"windows-2022-x64"},"windows-2022-x64"),l==="azure"&&React.createElement(s,{value:"windows-2025-x64"},"windows-2025-x64")))),React.createElement(E,{sx:{minWidth:120,marginLeft:"10px"}},React.createElement(f,null,React.createElement(g,{id:"demo-simple-select-label"},"Linux Environment"),React.createElement(w,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:i,label:"Linux Environment",onChange:P,defaultValue:0},React.createElement(s,{value:"ubuntu-24.04-x64"},"ubuntu-24.04-x64")))),React.createElement(E,{sx:{minWidth:120,marginLeft:"10px"}},React.createElement(f,null,React.createElement(g,{id:"demo-simple-select-label"},"Test type"),React.createElement(w,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:t,label:"Upload or download",onChange:Q,defaultValue:0},React.createElement(s,{value:"up"},"Upload - 1 connection, 12 seconds per run"),React.createElement(s,{value:"down"},"Download - 1 connection, 12 seconds per run"))))),React.createElement("br",null),React.createElement(X,{container:!0,spacing:3},v)))}export{J as default};
