import{r as t,j as e,H as j}from"./index-rza1mvS_.js";const h={};let x=0;const w=c=>{const[a,l]=t.useState(null),[o,u]=t.useState(!1),[n,i]=t.useState(null),[d,p]=t.useState(null);return t.useEffect(()=>{let s="https://microsoft.github.io/netperf/wasm_worker.js";const r=new Worker(s);return r.onmessage=y=>{const{type:g,error:k,results:b,id:m}=y.data;switch(g){case"ready":u(!0),i(b);break;case"error":p(k);break;case"execResult":h[m](b);break}},r.postMessage({type:"init",url:c}),l(r),()=>{r.terminate()}},[c]),{exec:(s,r)=>{x+=1,h[x]=r,a&&o?a.postMessage({type:"exec",sql:s,call_id:x}):console.error("Database is not ready or worker is not set up")},isReady:o,db:n,err:d}};function D(c){const{exec:a,isReady:l}=w("https://raw.githubusercontent.com/microsoft/netperf/sqlite/netperf.sqlite"),[o,u]=t.useState(null);t.useEffect(()=>{console.log("Data: ",o)},[o]);const[n,i]=t.useState(""),d=s=>{if(!l){console.log("Database is not ready");return}a(s,u)},p=s=>{i(s.target.value)},f=()=>{d(n)};return e.jsxs(e.Fragment,{children:[e.jsx(j,{children:e.jsx("title",{children:" Detailed Page "})}),e.jsxs("div",{children:[e.jsx("input",{type:"text",value:n,onChange:p,placeholder:"Enter SQL query"}),e.jsx("br",{}),e.jsx("button",{onClick:f,children:"Execute Query"}),e.jsx("br",{}),"Look in the browser console for the full data output via inspect element.",e.jsx("br",{})]})]})}export{D as default};
