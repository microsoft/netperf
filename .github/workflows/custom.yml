name: Custom Tasks

on:
  workflow_dispatch:

permissions: write-all

jobs:
  testjob:
    strategy:
      matrix:
        test: [1, 2]
    continue-on-error: ${{ matrix.test == 1 }} 
    runs-on: ubuntu-latest
    steps:
      - name: odd fail, even pass
        run: |
          if [ ${{ matrix.test }} % 2 -eq 0 ]; then
            echo "even, passing"
          else
            echo "odd, fail."
            exit 1
          fi

  upload-data:
    needs: testjob
    runs-on: ubuntu-latest
    steps:
      - name: Upload data
        run: echo "Uploading data"